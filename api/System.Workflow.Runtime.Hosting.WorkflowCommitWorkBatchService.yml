### YamlMime:ManagedReference
items:
- uid: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  commentId: T:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  id: WorkflowCommitWorkBatchService
  children:
  - System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.#ctor
  - System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch(System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback)
  langs:
  - csharp
  name: WorkflowCommitWorkBatchService
  nameWithType: WorkflowCommitWorkBatchService
  fullName: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  type: Class
  assemblies:
  - System.Workflow.Runtime
  namespace: System.Workflow.Runtime.Hosting
  summary: Allows custom logic for the commitment of work batches.
  remarks: "> [!NOTE]\n>  [!INCLUDE[DeprecatedContent](~/includes/deprecatedcontent-md.md)]  \n  \n When a work batch is committed the runtime calls into the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> and gives it a delegate to call to do the actual committing of the work batch. The runtime still has the primary responsibility of committing the work batch but allows the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> to insert itself in the process for customization around the commit process.  \n  \n This process allows custom error handling logic. If the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> owns the transaction, which is the case when the <xref:System.Transactions.Transaction.Current%2A?displayProperty=fullName> property returns `null` therefore necessitating the need to create a new ambient transaction, it is allowed to call the delegate more than once, creating a new transaction for each call. The most common case for this for example is to handle intermittent network problems or SQL cluster failovers. If the call to the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback> throws an exception <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> can catch this exception, start a new transaction and call the delegate again. This gives a level of resilience to workflow instance execution that otherwise would cause workflows to terminate."
  example:
  - "The following example demonstrates a class that inherits from <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService>.  \n  \n [!code-csharp[WF_Samples#0](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#0)]\n [!code-vb[WF_Samples#0](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#0)]"
  syntax:
    content: >-
      [System.Obsolete("The System.Workflow.* types are deprecated.  Instead, please use the new types from System.Activities.*")]

      public abstract class WorkflowCommitWorkBatchService : System.Workflow.Runtime.Hosting.WorkflowRuntimeService
  inheritance:
  - System.Object
  - System.Workflow.Runtime.Hosting.WorkflowRuntimeService
  derivedClasses:
  - System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService
  - System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService
  implements: []
  inheritedMembers:
  - System.Object.Equals(System.Object)
  - System.Object.Equals(System.Object,System.Object)
  - System.Object.GetHashCode
  - System.Object.GetType
  - System.Object.MemberwiseClone
  - System.Object.ReferenceEquals(System.Object,System.Object)
  - System.Object.ToString
  - System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStarted
  - System.Workflow.Runtime.Hosting.WorkflowRuntimeService.OnStopped
  - System.Workflow.Runtime.Hosting.WorkflowRuntimeService.RaiseServicesExceptionNotHandledEvent(System.Exception,System.Guid)
  - System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Runtime
  - System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Start
  - System.Workflow.Runtime.Hosting.WorkflowRuntimeService.State
  - System.Workflow.Runtime.Hosting.WorkflowRuntimeService.Stop
  attributes:
  - type: System.ObsoleteAttribute
  version:
  - netframework-4.5.1
  - netframework-4.5.2
  - netframework-4.5
  - netframework-4.6.1
  - netframework-4.6.2
  - netframework-4.6
  - netframework-4.7
  monikers:
  - netframework-4.5.1
  - netframework-4.5.2
  - netframework-4.5
  - netframework-4.6.1
  - netframework-4.6.2
  - netframework-4.6
  - netframework-4.7
  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.Workflow.Runtime.Hosting/WorkflowCommitWorkBatchService.xml
  author: Erikre
  ms.author: erikre
  manager: erikre
- uid: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.#ctor
  commentId: M:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.#ctor
  id: '#ctor'
  parent: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  langs:
  - csharp
  name: WorkflowCommitWorkBatchService()
  nameWithType: WorkflowCommitWorkBatchService.WorkflowCommitWorkBatchService()
  fullName: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.WorkflowCommitWorkBatchService()
  type: Constructor
  assemblies:
  - System.Workflow.Runtime
  namespace: System.Workflow.Runtime.Hosting
  summary: When implemented in a derived class, initializes a new instance of the <xref href="System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService"></xref> class.
  syntax:
    content: protected WorkflowCommitWorkBatchService ();
    parameters: []
  overload: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.#ctor*
  exceptions: []
  version:
  - netframework-4.5.1
  - netframework-4.5.2
  - netframework-4.5
  - netframework-4.6.1
  - netframework-4.6.2
  - netframework-4.6
  - netframework-4.7
  monikers:
  - netframework-4.5.1
  - netframework-4.5.2
  - netframework-4.5
  - netframework-4.6.1
  - netframework-4.6.2
  - netframework-4.6
  - netframework-4.7
  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.Workflow.Runtime.Hosting/WorkflowCommitWorkBatchService.xml
  author: Erikre
  ms.author: erikre
  manager: erikre
- uid: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch(System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback)
  commentId: M:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch(System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback)
  id: CommitWorkBatch(System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback)
  parent: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  langs:
  - csharp
  name: CommitWorkBatch(WorkflowCommitWorkBatchService+CommitWorkBatchCallback)
  nameWithType: WorkflowCommitWorkBatchService.CommitWorkBatch(WorkflowCommitWorkBatchService+CommitWorkBatchCallback)
  fullName: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch(WorkflowCommitWorkBatchService+CommitWorkBatchCallback)
  type: Method
  assemblies:
  - System.Workflow.Runtime
  namespace: System.Workflow.Runtime.Hosting
  summary: Called to commit the work batch.
  syntax:
    content: protected virtual void CommitWorkBatch (System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback commitWorkBatchCallback);
    parameters:
    - id: commitWorkBatchCallback
      type: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService+CommitWorkBatchCallback
      description: The <xref href="System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback"></xref> delegate to call to commit the work batch.
  overload: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch*
  exceptions: []
  version:
  - netframework-4.5.1
  - netframework-4.5.2
  - netframework-4.5
  - netframework-4.6.1
  - netframework-4.6.2
  - netframework-4.6
  - netframework-4.7
  monikers:
  - netframework-4.5.1
  - netframework-4.5.2
  - netframework-4.5
  - netframework-4.6.1
  - netframework-4.6.2
  - netframework-4.6
  - netframework-4.7
  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.Workflow.Runtime.Hosting/WorkflowCommitWorkBatchService.xml
  author: Erikre
  ms.author: erikre
  manager: erikre
references:
- uid: System.Workflow.Runtime.Hosting.WorkflowRuntimeService
  parent: System.Workflow.Runtime.Hosting
  isExternal: false
  name: WorkflowRuntimeService
  nameWithType: WorkflowRuntimeService
  fullName: System.Workflow.Runtime.Hosting.WorkflowRuntimeService
- uid: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.#ctor
  parent: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  isExternal: false
  name: WorkflowCommitWorkBatchService()
  nameWithType: WorkflowCommitWorkBatchService.WorkflowCommitWorkBatchService()
  fullName: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.WorkflowCommitWorkBatchService()
- uid: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch(System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatchCallback)
  parent: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  isExternal: false
  name: CommitWorkBatch(WorkflowCommitWorkBatchService+CommitWorkBatchCallback)
  nameWithType: WorkflowCommitWorkBatchService.CommitWorkBatch(WorkflowCommitWorkBatchService+CommitWorkBatchCallback)
  fullName: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch(WorkflowCommitWorkBatchService+CommitWorkBatchCallback)
- uid: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  parent: System.Workflow.Runtime.Hosting
  isExternal: false
  name: WorkflowCommitWorkBatchService
  nameWithType: WorkflowCommitWorkBatchService
  fullName: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService+CommitWorkBatchCallback
- uid: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.#ctor*
  parent: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  isExternal: false
  name: WorkflowCommitWorkBatchService
  nameWithType: WorkflowCommitWorkBatchService.WorkflowCommitWorkBatchService
  fullName: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.WorkflowCommitWorkBatchService
  monikers:
  - netframework-4.5.1
  - netframework-4.5.2
  - netframework-4.5
  - netframework-4.6.1
  - netframework-4.6.2
  - netframework-4.6
  - netframework-4.7
  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.Workflow.Runtime.Hosting/WorkflowCommitWorkBatchService.xml
- uid: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch*
  parent: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService
  isExternal: false
  name: CommitWorkBatch
  nameWithType: WorkflowCommitWorkBatchService.CommitWorkBatch
  fullName: System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService.CommitWorkBatch
  monikers:
  - netframework-4.5.1
  - netframework-4.5.2
  - netframework-4.5
  - netframework-4.6.1
  - netframework-4.6.2
  - netframework-4.6
  - netframework-4.7
  content_git_url: https://github.com/dotnet/docs/blob/master/xml/System.Workflow.Runtime.Hosting/WorkflowCommitWorkBatchService.xml
